package pod

// Code generated by gowrap. DO NOT EDIT.
// template:
// gowrap: http://github.com/fitan/gowrap

import (
	"context"

	"go.opentelemetry.io/otel/trace"

	endpoint "github.com/go-kit/kit/endpoint"

	"hello/pkg/ent"
)

type Mws map[string][]endpoint.Middleware

type Endpoints struct {
	ByQueriesEndpoint endpoint.Endpoint

	CreateEndpoint endpoint.Endpoint

	CreateManyEndpoint endpoint.Endpoint

	CreateServicetreeByPodIdEndpoint endpoint.Endpoint

	DeleteByIdEndpoint endpoint.Endpoint

	DeleteManyEndpoint endpoint.Endpoint

	GetByIdEndpoint endpoint.Endpoint

	GetServicetreeByPodIdEndpoint endpoint.Endpoint

	UpdateByIdEndpoint endpoint.Endpoint

	UpdateManyEndpoint endpoint.Endpoint
}

func AddEndpointMiddlewareToAllMethods(mw map[string][]endpoint.Middleware, m endpoint.Middleware) {
	methods := []string{

		"ByQueries",

		"Create",

		"CreateMany",

		"CreateServicetreeByPodId",

		"DeleteById",

		"DeleteMany",

		"GetById",

		"GetServicetreeByPodId",

		"UpdateById",

		"UpdateMany",
	}
	for _, v := range methods {
		mw[v] = append(mw[v], m)
	}
}

func AddEndpointMiddlewareToAllMethodsWithMethodName(mw map[string][]endpoint.Middleware, m func(n string) endpoint.Middleware) {
	methods := []string{

		"ByQueries",

		"Create",

		"CreateMany",

		"CreateServicetreeByPodId",

		"DeleteById",

		"DeleteMany",

		"GetById",

		"GetServicetreeByPodId",

		"UpdateById",

		"UpdateMany",
	}
	for _, v := range methods {
		mw[v] = append(mw[v], m(v))
	}
}

// New returns a Endpoints struct that wraps the provided service, and wires in all of the
// expected endpoint middlewares
func NewEndpoints(s PodService, mdw Mws) Endpoints {
	eps := Endpoints{

		ByQueriesEndpoint: MakeByQueriesEndpoint(s),

		CreateEndpoint: MakeCreateEndpoint(s),

		CreateManyEndpoint: MakeCreateManyEndpoint(s),

		CreateServicetreeByPodIdEndpoint: MakeCreateServicetreeByPodIdEndpoint(s),

		DeleteByIdEndpoint: MakeDeleteByIdEndpoint(s),

		DeleteManyEndpoint: MakeDeleteManyEndpoint(s),

		GetByIdEndpoint: MakeGetByIdEndpoint(s),

		GetServicetreeByPodIdEndpoint: MakeGetServicetreeByPodIdEndpoint(s),

		UpdateByIdEndpoint: MakeUpdateByIdEndpoint(s),

		UpdateManyEndpoint: MakeUpdateManyEndpoint(s),
	}

	for _, m := range mdw["ByQueries"] {
		eps.ByQueriesEndpoint = m(eps.ByQueriesEndpoint)
	}

	for _, m := range mdw["Create"] {
		eps.CreateEndpoint = m(eps.CreateEndpoint)
	}

	for _, m := range mdw["CreateMany"] {
		eps.CreateManyEndpoint = m(eps.CreateManyEndpoint)
	}

	for _, m := range mdw["CreateServicetreeByPodId"] {
		eps.CreateServicetreeByPodIdEndpoint = m(eps.CreateServicetreeByPodIdEndpoint)
	}

	for _, m := range mdw["DeleteById"] {
		eps.DeleteByIdEndpoint = m(eps.DeleteByIdEndpoint)
	}

	for _, m := range mdw["DeleteMany"] {
		eps.DeleteManyEndpoint = m(eps.DeleteManyEndpoint)
	}

	for _, m := range mdw["GetById"] {
		eps.GetByIdEndpoint = m(eps.GetByIdEndpoint)
	}

	for _, m := range mdw["GetServicetreeByPodId"] {
		eps.GetServicetreeByPodIdEndpoint = m(eps.GetServicetreeByPodIdEndpoint)
	}

	for _, m := range mdw["UpdateById"] {
		eps.UpdateByIdEndpoint = m(eps.UpdateByIdEndpoint)
	}

	for _, m := range mdw["UpdateMany"] {
		eps.UpdateManyEndpoint = m(eps.UpdateManyEndpoint)
	}

	return eps
}

func MakeByQueriesEndpoint(s PodService) endpoint.Endpoint {
	return func(ctx context.Context, request interface{}) (interface{}, error) {
		req := request.(ent.PodRestByQueriesReq)
		rs, err := s.ByQueries(ctx, req)
		result := make(map[string]interface{}, 0)
		if err != nil {
			result["err"] = err.Error()
			return result, nil
		}
		result["data"] = rs
		result["traceId"] = trace.SpanFromContext(ctx).SpanContext().TraceID().String()
		return result, nil
	}
}

func MakeCreateEndpoint(s PodService) endpoint.Endpoint {
	return func(ctx context.Context, request interface{}) (interface{}, error) {
		req := request.(ent.PodRestCreateReq)
		rs, err := s.Create(ctx, req)
		result := make(map[string]interface{}, 0)
		if err != nil {
			result["err"] = err.Error()
			return result, nil
		}
		result["data"] = rs
		result["traceId"] = trace.SpanFromContext(ctx).SpanContext().TraceID().String()
		return result, nil
	}
}

func MakeCreateManyEndpoint(s PodService) endpoint.Endpoint {
	return func(ctx context.Context, request interface{}) (interface{}, error) {
		req := request.(ent.PodRestCreateManyReq)
		rs, err := s.CreateMany(ctx, req)
		result := make(map[string]interface{}, 0)
		if err != nil {
			result["err"] = err.Error()
			return result, nil
		}
		result["data"] = rs
		result["traceId"] = trace.SpanFromContext(ctx).SpanContext().TraceID().String()
		return result, nil
	}
}

func MakeCreateServicetreeByPodIdEndpoint(s PodService) endpoint.Endpoint {
	return func(ctx context.Context, request interface{}) (interface{}, error) {
		req := request.(ent.PodRestCreateServicetreeByPodIdReq)
		rs, err := s.CreateServicetreeByPodId(ctx, req)
		result := make(map[string]interface{}, 0)
		if err != nil {
			result["err"] = err.Error()
			return result, nil
		}
		result["data"] = rs
		result["traceId"] = trace.SpanFromContext(ctx).SpanContext().TraceID().String()
		return result, nil
	}
}

func MakeDeleteByIdEndpoint(s PodService) endpoint.Endpoint {
	return func(ctx context.Context, request interface{}) (interface{}, error) {
		req := request.(ent.PodRestDeleteByIdReq)
		rs, err := s.DeleteById(ctx, req)
		result := make(map[string]interface{}, 0)
		if err != nil {
			result["err"] = err.Error()
			return result, nil
		}
		result["data"] = rs
		result["traceId"] = trace.SpanFromContext(ctx).SpanContext().TraceID().String()
		return result, nil
	}
}

func MakeDeleteManyEndpoint(s PodService) endpoint.Endpoint {
	return func(ctx context.Context, request interface{}) (interface{}, error) {
		req := request.(ent.PodRestDeleteManyReq)
		rs, err := s.DeleteMany(ctx, req)
		result := make(map[string]interface{}, 0)
		if err != nil {
			result["err"] = err.Error()
			return result, nil
		}
		result["data"] = rs
		result["traceId"] = trace.SpanFromContext(ctx).SpanContext().TraceID().String()
		return result, nil
	}
}

func MakeGetByIdEndpoint(s PodService) endpoint.Endpoint {
	return func(ctx context.Context, request interface{}) (interface{}, error) {
		req := request.(ent.PodRestGetByIdReq)
		rs, err := s.GetById(ctx, req)
		result := make(map[string]interface{}, 0)
		if err != nil {
			result["err"] = err.Error()
			return result, nil
		}
		result["data"] = rs
		result["traceId"] = trace.SpanFromContext(ctx).SpanContext().TraceID().String()
		return result, nil
	}
}

func MakeGetServicetreeByPodIdEndpoint(s PodService) endpoint.Endpoint {
	return func(ctx context.Context, request interface{}) (interface{}, error) {
		req := request.(ent.PodRestGetServicetreeByPodIdReq)
		rs, err := s.GetServicetreeByPodId(ctx, req)
		result := make(map[string]interface{}, 0)
		if err != nil {
			result["err"] = err.Error()
			return result, nil
		}
		result["data"] = rs
		result["traceId"] = trace.SpanFromContext(ctx).SpanContext().TraceID().String()
		return result, nil
	}
}

func MakeUpdateByIdEndpoint(s PodService) endpoint.Endpoint {
	return func(ctx context.Context, request interface{}) (interface{}, error) {
		req := request.(ent.PodRestUpdateByIdReq)
		rs, err := s.UpdateById(ctx, req)
		result := make(map[string]interface{}, 0)
		if err != nil {
			result["err"] = err.Error()
			return result, nil
		}
		result["data"] = rs
		result["traceId"] = trace.SpanFromContext(ctx).SpanContext().TraceID().String()
		return result, nil
	}
}

func MakeUpdateManyEndpoint(s PodService) endpoint.Endpoint {
	return func(ctx context.Context, request interface{}) (interface{}, error) {
		req := request.(ent.PodRestUpdateManyReq)
		rs, err := s.UpdateMany(ctx, req)
		result := make(map[string]interface{}, 0)
		if err != nil {
			result["err"] = err.Error()
			return result, nil
		}
		result["data"] = rs
		result["traceId"] = trace.SpanFromContext(ctx).SpanContext().TraceID().String()
		return result, nil
	}
}
